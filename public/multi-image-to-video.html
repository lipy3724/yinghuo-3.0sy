<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="multi_image_to_video.page_title">多图转视频 - 萤火.AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="/components/styles.css">
    <link href="/css/multi-image-to-video.css" rel="stylesheet">
    <style>
    </style>

    <link rel="icon" href="/images/favicon.png" type="image/png">  <script src="/js/auth-check.js"></script>
    <script src="/js/mobile-guard.js"></script>
    <script src="/translations.js"></script>
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- 简化版导航栏 -->
    <div id="navbar-simple"></div>
    
    <!-- 主内容区域 -->
    <div class="container mx-auto py-8 px-4" style="margin-top: 60px;">
        <h1 class="text-3xl font-bold text-center mb-8" data-translate="multi_image_to_video.main_title">多图转视频</h1>
        
        <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">
            <!-- 左侧面板: 上传图片和设置 -->
            <div class="lg:col-span-2 bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-xl font-bold mb-4" data-translate="multi_image_to_video.upload_title">上传多张图片</h2>
                
                <div id="upload-area" class="upload-area h-36 flex flex-col items-center justify-center mb-2 bg-gray-50">
                    <i class="ri-upload-cloud-line text-2xl text-gray-400 mb-1"></i>
                    <p class="text-gray-500 text-center text-sm px-2" data-translate="multi_image_to_video.upload_description">点击或者拖动多张图片到这区域来上传</p>
                    <input type="file" id="image-upload" class="hidden" accept="image/*" multiple>
                </div>
                <p class="text-xs text-gray-500 mb-4" data-translate="multi_image_to_video.upload_size_limit">每张图片大小不超过10MB，最多上传20张</p>
                
                <!-- 已上传图片的缩略图容器 -->
                <div id="thumbnail-container" class="flex flex-wrap gap-2 border border-gray-200 rounded-md p-2 mb-4 min-h-[100px] hidden">
                    <!-- 缩略图将通过JavaScript动态添加到这里 -->
                </div>
                
                <div class="mb-4">
                    <h2 class="text-xl font-bold mb-4" data-translate="multi_image_to_video.video_settings">视频设置</h2>
                    
                    <!-- 场景类型设置 -->
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="multi_image_to_video.scene_type_label">生成视频场景类型</label>
                        <select id="scene-type" class="w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="costume" data-translate="multi_image_to_video.scene_type_costume">服饰场景 (默认)</option>
                            <option value="general" data-translate="multi_image_to_video.scene_type_general">通用场景</option>
                            <option value="keeporder" data-translate="multi_image_to_video.scene_type_keeporder">强制按输入素材顺序合成视频场景</option>
                        </select>
                    </div>
                    
                    <!-- 视频分辨率设置 -->
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="multi_image_to_video.resolution_label">输出视频分辨率</label>
                        <div class="grid grid-cols-2 gap-2">
                            <div>
                                <label class="text-xs text-gray-500" data-translate="multi_image_to_video.width">宽度</label>
                                <input type="number" id="video-width" value="1280" min="32" max="2160" step="16" class="mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
                            </div>
                            <div>
                                <label class="text-xs text-gray-500" data-translate="multi_image_to_video.height">高度</label>
                                <input type="number" id="video-height" value="720" min="32" max="2160" step="16" class="mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
                            </div>
                        </div>
                        <p class="text-xs text-gray-500 mt-1" data-translate="multi_image_to_video.resolution_note">取值范围在32-2160之间。如未设置，按照750×750输出。</p>
                    </div>
                    
                    <!-- 视频节奏设置 -->
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="multi_image_to_video.video_style_label">视频节奏</label>
                        <select id="video-style" class="w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="normal" selected data-translate="multi_image_to_video.video_style_normal">普通</option>
                            <option value="fast" data-translate="multi_image_to_video.video_style_fast">快速</option>
                            <option value="slow" data-translate="multi_image_to_video.video_style_slow">慢速</option>
                        </select>
                    </div>
                    
                    <!-- 视频转场效果选择 -->
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="multi_image_to_video.transition_label">镜头转场风格</label>
                        <select id="transition-style" class="w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="" data-translate="multi_image_to_video.transition_random">随机 (根据Style随机选择)</option>
                            <option value="basic" data-translate="multi_image_to_video.transition_basic">无 (basic)</option>
                            <option value="slow" data-translate="multi_image_to_video.transition_slow">舒缓 (slow)</option>
                            <option value="fast" data-translate="multi_image_to_video.transition_fast">动感 (fast)</option>
                            <option value="normal" data-translate="multi_image_to_video.transition_normal">自然 (normal)</option>
                            <option value="ink" data-translate="multi_image_to_video.transition_ink">水墨 (ink)</option>
                            <option value="glitch" data-translate="multi_image_to_video.transition_glitch">机械故障 (glitch)</option>
                            <option value="shift" data-translate="multi_image_to_video.transition_shift">切换 (shift)</option>
                            <option value="mosaic" data-translate="multi_image_to_video.transition_mosaic">马赛克 (mosaic)</option>
                            <option value="shutter" data-translate="multi_image_to_video.transition_shutter">百叶窗 (shutter)</option>
                            <option value="zoom" data-translate="multi_image_to_video.transition_zoom">缩放 (zoom)</option>
                            <option value="mask" data-translate="multi_image_to_video.transition_mask">遮罩 (mask)</option>
                            <option value="brush" data-translate="multi_image_to_video.transition_brush">笔刷 (brush)</option>
                            <option value="wind" data-translate="multi_image_to_video.transition_wind">风舞 (wind)</option>
                            <option value="smog" data-translate="multi_image_to_video.transition_smog">烟雾 (smog)</option>
                        </select>
                        <p class="text-xs text-gray-500 mt-1" data-translate="multi_image_to_video.transition_note">共计15种风格。如果没有设置则按照Style随机。</p>
                    </div>
                    
                    <!-- 视频时长设置 -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2" data-translate="multi_image_to_video.duration_label">视频时长 (秒)</label>
                        <input type="number" id="duration" value="10" min="5" max="60" step="1" class="w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                        <p class="text-xs text-gray-500 mt-1" data-translate="multi_image_to_video.duration_note">视频时长范围为5-60秒，最长为60秒。</p>
                        <p id="duration-error" class="text-xs text-red-500 mt-1 hidden" data-translate="multi_image_to_video.duration_error">视频时长必须在5-60秒范围内！</p>
                    </div>
                </div>
                
                <button id="generate-btn" class="w-full bg-indigo-600 text-white py-3 rounded-md hover:bg-indigo-700 flex items-center justify-center">
                    <i class="ri-movie-2-line mr-2"></i>
                    <span data-translate="multi_image_to_video.generate_button">立即生成</span>
                </button>
                <p class="mt-2 text-center text-sm text-gray-500" data-translate="multi_image_to_video.generate_info">
                    30 积分/30秒（不满30秒按30秒计算）
                </p>
                <p class="mt-2 text-center text-xs text-red-500 font-medium" data-translate="multi_image_to_video.warning_text">请上传合法合规的图片视频，如有违反会进行封号处理，任务一旦提交就会扣除积分不可中断，请勿重复刷新提交，否则会造成积分浪费。</p>
            </div>
            
            <!-- 右侧面板: 视频预览和历史记录 -->
            <div class="lg:col-span-3 space-y-8">
                <!-- 视频预览部分 -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-bold mb-4" data-translate="multi_image_to_video.preview_title">视频预览</h2>
                    
                    <div id="output-video-container" class="video-preview mb-4">
                            <div id="video-wrapper" class="video-wrapper hidden w-full h-full relative">
                                <video id="output-video" class="w-full h-full object-contain" controls></video>
                            </div>
                            <p id="output-video-placeholder" class="text-gray-500 text-center px-4" data-translate="multi_image_to_video.preview_placeholder">视频生成后将在这里显示</p>
                        </div>
                    
                </div>
                
                <!-- 任务列表 -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex justify-between items-center mb-4">
                        <div>
                            <h2 class="text-xl font-bold" data-translate="multi_image_to_video.tasks_title">任务列表</h2>
                            <p class="text-sm text-gray-500 mt-1" data-translate="multi_image_to_video.tasks_description">仅显示24小时内的最新记录</p>
                        </div>
                        <div class="flex space-x-2">
                            <button id="clear-all-tasks-global-btn" class="text-red-600 hover:text-red-800 text-sm px-3 py-1 border border-red-300 rounded-md">
                                <i class="ri-delete-bin-line mr-1"></i><span data-translate="multi_image_to_video.clear_all">清空所有</span>
                            </button>
                            <button id="refresh-tasks-btn" class="text-indigo-600 hover:text-indigo-800">
                                <i class="ri-refresh-line text-lg"></i>
                            </button>
                        </div>
                    </div>
                    <div id="tasks-container" class="space-y-4">
                        <div class="text-center py-8 text-gray-500">
                            <p data-translate="multi_image_to_video.no_tasks">暂无视频生成记录</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 加载中遮罩 -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-spinner"></div>
        <p class="text-xl mb-2" data-translate="multi_image_to_video.loading_message">正在生成视频...</p>
        <p class="text-sm" data-translate="multi_image_to_video.loading_time">这可能需要几分钟时间，请耐心等待</p>
    </div>

<script src="/js/multi-image-to-video.js?v=20250910-2"></script>
    <script src="/components/components.js"></script>
</body>
</html> 